<script>

    var arr = [4, 4, 4, 3, 3];
    var sorted = arr.slice().sort(function (a, b) { return b - a })
    var ranks = arr.map(function (v) { return sorted.indexOf(v) + 1 });
    console.log(ranks);


</script>